<!-- views/users/show.ejs -->

<!--
  Listing 19.5 (p. 283)
  ÏÇ¨Ïö©Ïûê Show ÌÖåÏù¥Î∏î
-->
<main class="user-profile">
  <div class="container col-xl-10 col-xxl-8 px-4 py-5">
    <div class="pt-5">
      <h1>User Data for <%= user.fullName %></h1>

      <div class="row">
        <div class="col col-lg-2">
          <figure class="user-img mt-5 mb-5">
            <img src="<%= user.profileImg || "https://via.placeholder.com/150"
            %>" alt="Placeholder image" class="rounded-circle" />
          </figure>
        </div>
        <div class="col col-lg-10">
          <table class="table table-striped table-hover mt-5 mb-5">
            <!-- ÏÇ¨Ïö©Ïûê Îç∞Ïù¥ÌÑ∞Î•º Î≥¥Ïó¨Ï£ºÍ∏∞ ÏúÑÌïú ÌÖåÏù¥Î∏î Ï∂îÍ∞Ä -->
            <tbody>
              <tr>
                <th scope="col">Username</th>
                <td><%= user.username %></td>
              </tr>
              <tr>
                <th scope="col">Name</th>
                <td><%= user.fullName %></td>
              </tr>
              <tr>
                <th scope="col">Email</th>
                <td><%= user.email %></td>
              </tr>
              <tr>
                <th scope="col">Password</th>
                <td><%= user.password %></td>
              </tr>
              <tr>
                <th scope="col">Courses</th>
                <td><%= user.courses %></td>
              </tr>
              <tr>
                <th scope="col">Subscribed Account</th>
                <td><%= user.subscribedAccount %></td>
              </tr>
              <tr>
                <th scope="col">Created</th>
                <td><%= user.createdAt %></td>
              </tr>
              <tr>
                <th scope="col">Updated</th>
                <td><%= user.updatedAt %></td>
              </tr>
              <tr>
                <th scope="col">ID</th>
                <td><%= user._id %></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Íµ¨ÎèÖÏûê Í≥ÑÏ†ï ÌôïÏù∏ -->
      <% if (user.subscribedAccount) { %>
      <h4 class="mt-5 text-center">
        This user has a subscribed account:
        <a href="/subscribers/<%= user.subscribedAccount %>">
          <%= user.subscribedAccount.name %> </a
        >.
      </h4>
      <% } %>

      <!--
        ÎÖ∏Ìä∏: ÎßÅÌÅ¨Îêú Íµ¨ÎèÖÏûê ÌéòÏù¥ÏßÄÍ∞Ä Ï†úÎåÄÎ°ú ÎèôÏûëÌïòÎ†§Î©¥ Ïù¥Îü∞ Í≥ºÏ†ïÏùÑ Íµ¨ÎèÖÏûêÎ•º ÏúÑÌïú CRUD Ìï®Ïàò Î∞è
        Î∑∞Ïùò ÏÉùÏÑ±ÏóêÏÑúÎèÑ ÎèôÏãúÏóê Îî∞ÎùºÏïº Ìï† Í≤ÉÏù¥Îã§. Href ÏïµÏª§ ÌÉúÍ∑∏Ïù∏ /subscribers/${user.susbcribedAccount}Îäî
        Íµ¨ÎèÖÏûêÏùò show ÌéòÏù¥ÏßÄÎ•º ÎÇòÌÉÄÎÇ∏Îã§.
      -->

      <!--
        Listing 20.10 (p. 299)
        CRUD Ïï°ÏÖòÏùÑ ÏúÑÌïú ÎßÅÌÅ¨ Ï∂îÍ∞Ä
      -->
      <div class="row">
        <div class="col col-lg-10 offset-lg-2">
          <!-- ÌîÑÎ°úÌïÑ ÌéòÏù¥ÏßÄÏóêÏÑú ÏÇ¨Ïö©Ïûê Í≥ÑÏ†ïÏùò Ìé∏Ïßë Î∞è ÏÇ≠Ï†úÎ•º ÏúÑÌïú ÎßÅÌÅ¨ Ï∂îÍ∞Ä -->
          <a href="/users" class="btn btn-primary">‚Üê Back to Users</a>
          <a
            href="/users/<%= user._id %>/edit"
            class="btn btn-secondary"
            role="button"
            >‚úèÔ∏è Edit User</a
          >
          <a
            href="/users/<%= user._id %>/delete?_method=DELETE"
            onclick="return confirm('Are you sure you want to delete this record?')"
            class="btn btn-danger disabled"
            role="button"
            aria-disabled="true"
            >üóëÔ∏è Delete User</a
          >
        </div>
      </div>
    </div>
  </div>
</main>
